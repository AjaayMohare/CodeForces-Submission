#include <bits/stdc++.h>
using namespace std;
 
int main() {
	// your code goes here
	int t;
	cin >> t;
	while(t--){
	    int n;
	    cin >> n;
	    vector<int> v(n);
	    for(int i=0;i<n;i++){
	        cin >> v[i];
	    }
	    int mit=0;
	    for(int i=1;i<n;i++){
	        mit+=abs(v[i]-v[i-1]);
	    }
	    int co =mit;
	    vector<int> er;
	    for(int i=0;i<n;i++){
	        if(i==0){
	            er.push_back(abs(v[1]-v[0]));
	            
	        }
	        else if(i>0 &&i<n-1){
	            er.push_back(abs(v[i+1]-v[i])+abs(v[i]-v[i-1])-abs(v[i-1]-v[i+1]));
	        }
	        else{
                er.push_back(abs(v[n-1]-v[n-2]));
 
	        }
	    }
	    for(int i=0;i<n;i++){
                mit=min(mit,co-er[i]);
 
	    }
	    cout << mit << endl;
	}
 
}
